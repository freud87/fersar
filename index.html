<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Sarra & Ferid</title>
  <link href="fersar.png" rel="icon" type="image/x-icon" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<style>
    * {
      color:#212E53;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      height: 100%;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      display: grid;
      grid-template-rows: auto 1fr;
      grid-template-columns: 250px 1fr;
      grid-template-areas:
        "header header"
        "sidebar main";
      background: #fff0f5;
    }

    header {
      grid-area: header;
      background: #EBACA2;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 5px 10px;
      font-size: 1.5em;
    }
    .headerG {
      display: flex;
      align-items: center;
    }
    .titre{
      margin-left: 5px;
    }
    .countdown {
      background: #BED3C3;
      color: #333;
      padding: 0.5em 1em;
      border: 2px dashed #ff69b4;
      border-radius: 10px;
      font-size: 1em;
    }

    .sidebar {
      grid-area: sidebar;
      background-color: #ffb6c1;
      display: flex;
      flex-direction: column;
      padding: 1em;
    }

    .sidebar button {
      background: none;
      border: none;
      padding: 8px 5px;
      text-align: left;
      font-size: 1em;
      cursor: pointer;
    }

    .sidebar button:hover {
      background-color: #ff69b4;
    }

    main {
      grid-area: main;
      padding: 1em;
      overflow: hidden;
      position: relative;
      background-color: #BED3C3;
    }

    .slider-section {
      display: none;
      position: relative;
      height: 100%;
    }

    .slider-section.active {
      display: block;
    }

    .slides {
      display: flex;
      transition: transform 0.5s ease;
      height: 100%;
      width: 100%;
    }

    .slides img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      flex-shrink: 0;
    }
	#map {
	  width: 100%;
	  height: 100%;
	}
	table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #999; padding: 8px; }
    td[contenteditable] { background: #f9f9f9; }
    button { margin: 10px 5px; }
    .nav-button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      border: none;
      font-size: 2em;
      /*padding: 0.2em 0.5em;*/
      cursor: pointer;
      /*border-radius: 50%;*/
      user-select: none;
    }

    .nav-button:hover {
      background: #ff69b4;
      color: white;
    }

    .prev {
      left: 10px;
    }

    .next {
      right: 10px;
    }

    .countdown-group {
	display: none;
	font-size: 2.5em;
	background: #fff;
	color: #333;
	margin: 10px auto;
	padding: 0.5em 1.5em;
	border: 2px dashed #ff69b4;
	border-radius: 10px;
	width: fit-content;
    }
	

    @media (max-width: 1080px) {
		body {
			display: flex;
			flex-direction: column;
		}

		.sidebar {
			flex-direction: row;
			justify-content: space-around;
			width: 100%;
			padding: 0.5em;
			font-size: 2em;
		}

		.sidebar button {
			/*flex: 1;*/
			text-align: center;
			Width: auto;
			}
		main {
			flex: 1 1 auto; /* Ici, main prend tout l'espace restant */
			padding: 1em;
			margin-bottom:10px;
		}

		.countdown {
			display: none;
		}

		.countdown-group {
			display: flex;
			flex-direction: row;
			justify-content: space-around;
			margin-top: auto;
		}
	    	 @keyframes flip {
		    0% {
		      transform: rotateX(0deg);
		    }
		    50% {
		      transform: rotateX(180deg);
		    }
		    100% {
		      transform: rotateX(360deg);
		    }
		  }
		
		  #mobhour {
		     	display: inline-block;
  			animation: flip-vertical 5s ease-in-out infinite;
		  }
	    	.flip-animation {
		  animation: flip-vertical 5s ease-in-out infinite;
		}
		
	   	
    }
  </style>
</head>
<body>

  <header>
    <div class="headerG">
      <img src="fersar.png" alt="fersarlogo" loading="lazy">
      <div class="titre">Sarra & Ferid</div>
    </div>
    <div class="active"></div>
    <div class="countdown" id="countdown">Chargementâ€¦</div>
  </header>
<div class="sidebar">
	<button data-section="section1" onclick="showSection(this)">Duo</button>
	<button data-section="section2" onclick="showSection(this)">Souvenirs</button>
	<button data-section="section3" onclick="showSection(this)">FianÃ§ailles</button>
	<button data-section="section4" onclick="showSection(this)">Ghibli</button>
	<button data-section="sectionMap" onclick="showSection(this)">Cartes</button>
	<button data-section="PrÃ©paratifs" onclick="showSection(this)">PrÃ©paratifs</button>
</div>

  <main>
    <section id="section1" class="slider-section active">
      <div class="slides">
        <img src="duo.rdv.01052025.jpeg" alt="duo.rdv.01052025" loading="lazy">
        <img src="duo.rdv.17042025.jpeg" alt="duo.rdv.17042025" loading="lazy">
        <img src="duo.rdv.24102024.jpg" alt="duo.rdv.24102024" loading="lazy">
      </div>	        
    </section>
	
	<section id="section2" class="slider-section active">
      <div class="slides">
        <img src="souvenirs.05052024.jpg" alt="souvenirs.msg.001" loading="lazy">
        <img src="souvenirs.01052025.jpg" alt="souvenirs.drole.001" loading="lazy">
      </div>

    </section>
	
    <section id="section3" class="slider-section">
      <div class="slides">
        <img src="fianÃ§ailles.gold.001.jpg" alt="fianÃ§ailles.gold.001" loading="lazy">
        <img src="fianÃ§ailles.gold.002.jpg" alt="fianÃ§ailles.gold.002" loading="lazy">
        <img src="fianÃ§ailles.gold.003.jpg" alt="fianÃ§ailles.gold.003" loading="lazy">
        <img src="fianÃ§ailles.gold.004.jpg" alt="fianÃ§ailles.gold.004" loading="lazy">
      </div>

    </section>

    <section id="section4" class="slider-section">
      <div class="slides">
        <img src="duo.ghibli.001.webp" alt="duo.ghibli.001" loading="lazy">
        <img src="duo.ghibli.002.webp" alt="duo.ghibli.002" loading="lazy">
        <img src="duo.ghibli.003.jpg" alt="duo.ghibli.003" loading="lazy">
      </div>
    </section>
		<section id="sectionMap" class="slider-section">
	  		<div id="map"></div>
		</section>
	  	<section id="PrÃ©paratifs" class="slider-section"><div id="PrÃ©paratifs"></div>
			<button onclick="addRow()">âž• Ajouter ligne</button>
			<button onclick="saveTable()">ðŸ’¾ Enregistrer</button>
  			<table id="depensesTable"></table>
		</section>

	 	<button class="nav-button prev" onclick="prevSlide()">
		  <i class="bi bi-arrow-left-circle-fill"></i>
		</button>
		<button class="nav-button next" onclick="nextSlide()">
		  <i class="bi bi-arrow-right-circle-fill"></i>
		</button>
	  
  </main>
		<div class="countdown-group">
			<div id="mobhour"><i class="bi bi-hourglass-split"></i></div>
			<div class="countdown-mobile" id="countdown-mobile"></div>
		</div>
  <script>
    let currentIndex = 0;
let mapInitialized = false;

function showSection(button) {
  const sectionId = button.getAttribute("data-section");
  const sectionName = button.textContent.trim();

  document.querySelectorAll('.slider-section').forEach(section => {
    section.classList.remove('active');
  });

  const activeSection = document.getElementById(sectionId);
  activeSection.classList.add('active');

  document.querySelector('header .active').innerHTML = `<strong>${sectionName}</strong>`;

  currentIndex = 0;
  updateSlide();

  if (sectionId === "sectionMap" && !mapInitialized) {
    initLeafletMap();
    mapInitialized = true;
  }
}

    function updateSlide() {
      const activeSlides = document.querySelector('.slider-section.active .slides');
      if (!activeSlides) return;
      activeSlides.style.transform = `translateX(-${currentIndex * 100}%)`;
    }

    function nextSlide() {
      const activeSlides = document.querySelector('.slider-section.active .slides');
      if (!activeSlides) return;
      const totalSlides = activeSlides.children.length;
      currentIndex = (currentIndex + 1) % totalSlides;
      updateSlide();
    }

    function prevSlide() {
      const activeSlides = document.querySelector('.slider-section.active .slides');
      if (!activeSlides) return;
      const totalSlides = activeSlides.children.length;
      currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
      updateSlide();
    }

    const countdownEl = document.getElementById("countdown");
    const countdownMobileEl = document.getElementById("countdown-mobile");
    const weddingDate = new Date("2026-07-04T21:00:00").getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = weddingDate - now;

      if (distance < 0) {
        countdownEl.innerHTML = "ðŸŽ‰ C'est le grand jour ! ðŸŽŠ";
        countdownMobileEl.innerHTML = "ðŸŽ‰ C'est le grand jour ! ðŸŽŠ";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
	    
	const formattedHours = String(hours).padStart(2, '0');
	const formattedMinutes = String(minutes).padStart(2, '0');
	const formattedSeconds = String(seconds).padStart(2, '0');
	    
      countdownEl.innerHTML = `<i class="bi bi-hourglass-split"></i> ${days}j ${formattedHours}h ${formattedMinutes}m ${formattedSeconds}s`;
      countdownMobileEl.innerHTML = `
        ${days} jours<br>
        ${hours} heures<br>
        ${minutes} minutes<br>
        ${seconds} secondes`;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    document.querySelector('header .active').innerHTML = `<strong>Duo</strong>`;
		function initLeafletMap() {
		  // Initialisation de la carte centrÃ©e sur la position de Google Maps
    const map = L.map('map').setView([36.1596653, 9.2668632], 12);

    // Charger les tuiles OpenStreetMap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors',
      maxZoom: 19
    }).addTo(map);

		  // Marqueurs
 // L.marker([36.234494, 9.200618]).addTo(map)
 //   .bindPopup("<div style='background-color: #ADD8E6; padding: 5px;'><b>Ferid le mariÃ©</b></div>");
// DÃ©finir une icÃ´ne personnalisÃ©e pour Sarra
  var sarraIcon = L.icon({
    iconUrl: 'icone.sarra.pt.png',
    iconSize: [40, 40],       // largeur, hauteur
    iconAnchor: [16, 32],     // centre en bas
    popupAnchor: [0, -32]     // popup au-dessus
  });
// DÃ©finir une icÃ´ne personnalisÃ©e pour Ferid
  var feridIcon = L.icon({
    iconUrl: 'icone.ferid.pt.png',
    iconSize: [40, 40],       // largeur, hauteur
    iconAnchor: [16, 32],     // centre en bas
    popupAnchor: [0, -32]     // popup au-dessus
  });
// Ajouter le marqueur avec l'icÃ´ne personnalisÃ©e et le popup stylisÃ©
  L.marker([36.097083, 9.383750], { icon: sarraIcon }).addTo(map)
    .bindPopup("<div style='background-color: #FFC0CB; padding: 5px; border-radius: 5px;'><b>Sarra la mariÃ©e</b></div>");
  L.marker([36.234494, 9.200618], { icon: feridIcon }).addTo(map)
    .bindPopup("<div style='background-color: #FFC0CB; padding: 5px; border-radius: 5px;'><b>Ferid le mariÃ©</b></div>");


L.marker([36.087528, 9.373667]).addTo(map)
    .bindPopup("<div style='background-color: #90EE90; padding: 5px;'><b>Salle des fÃªtes HANNIBAL</b></div>");

		}


	  
  </script>
	<script src="prÃ©paratifs.js"></script>
</body>
</html>
